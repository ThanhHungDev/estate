function link_sidebar_dropdown(){var e=$("#sidebar");e.hasClass("mini")||$("#sidebar .block_navigate").click(function(){var e=$(this),t=e.find(".dropdown__item"),n=!0;t.is(":hidden")&&(n=!1),t.slideToggle("fast",function(){n?e.removeClass("active"):e.addClass("active")})}),$("#sidebar .block_navigate").on("mouseover",function(){var e=$(this),t=$(".dropdown__item",e),n=e.position();t.css({top:n.top,left:n.left+Math.round(e.outerWidth())})}).hover(function(){e.hasClass("mini")&&(e.addClass("z-index-hight"),$(this).addClass("active-hover"))},function(){e.hasClass("mini")&&(e.removeClass("z-index-hight"),$(this).removeClass("active-hover"))})}function toggle_sidebar(){var e=$("#sidebar"),t=$("#js_right_content"),n=e.find(".js_toggle_navigate__icon"),a=t.find(".js_icon_fa_toggle"),i=!1;n.hasClass("hero-chevron-double-left")&&(i=!0),i?(n.removeClass("hero-chevron-double-left").addClass("hero-chevron-double-right"),e.addClass("mini"),t.addClass("sidebar-mini"),a.removeClass("fa-bars").addClass("fa-times-square")):(n.removeClass("hero-chevron-double-right").addClass("hero-chevron-double-left"),e.removeClass("mini"),t.removeClass("sidebar-mini"),a.addClass("fa-bars").removeClass("fa-times-square"))}function showErrorSystem(e){alert(" có lỗi "),console.log(e)}function showImage__InputCKFinder(e,t){var n=$(t).closest(".wrapper__selectImageWithCKFinder"),a=n.find(".output-image-finder");a&&a.remove();var i=n.find("input.img__outputCKFinder");i&&(i.val(e),i.valid());var o=document.createElement("img");o.id="output-image-finder",o.className="output-image-finder",o.src=e,n.find("input.img__outputCKFinder").parent().append(o)}function selectImageWithCKFinder(e){CKFinder.popup({chooseFiles:!0,width:800,height:600,onInit:function(t){t.on("files:choose",function(t){showImage__InputCKFinder(t.data.files.first().getUrl(),e)}),t.on("file:choose:resizedImage",function(t){showImage__InputCKFinder(t.data.resizedUrl,e)})}})}function createSlug(e){return e=e.toLowerCase(),wanakana&&(e=wanakana.toRomaji(e)),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi,"a")).replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi,"e")).replace(/i|í|ì|ỉ|ĩ|ị/gi,"i")).replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi,"o")).replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi,"u")).replace(/ý|ỳ|ỷ|ỹ|ỵ/gi,"y")).replace(/đ/gi,"d")).replace(/[\u00C0-\u00C5]/gi,"a")).replace(/[\u00C8-\u00CB]/gi,"e")).replace(/[\u00CC-\u00CF]/gi,"i")).replace(/[\u00D2-\u00D6]/gi,"o")).replace(/[\u00D9-\u00DC]/gi,"u")).replace(/[\u00D1]/gi,"n")).trim().replace(/ /g,"-")).replace(/[\-]{2}/g,"")}function isExistSlug(e){var t=createSlug(e);if(!t)return!1;if($("input[name=slug]").val(t),$("#result-slug").remove(),$("#show-url").attr("href","/"+t),$("button[type=submit]").attr("disabled",!0),$("input[name=_slug_old]")){var n=$("input[name=_slug_old]").val();if(n==t)return showResultSlugExisted(n!=t),!0}fetch(ACTION_CHECK_SLUG+"/"+t,{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>showResultSlugExisted(!!e.ok)).catch(e=>{alert("có lỗi")})}function showResultSlugExisted(e){var t="slug đã tồn tại",n="text-color-danger";e||(t="slug chưa tồn tại",$("input[name=_slug_old]")&&$("input[name=_slug_old]").val()==$("input[name=slug]").val()&&(t="slug chưa thay đổi"),n="text-color-success-color-dark");var a=document.createElement("p");a.id="result-slug",a.className=n,a.textContent=t,$("input[name=slug]").parent().append(a),$("button[type=submit]").attr("disabled",e)}function runSelect2Single(e){e.select2({language:{noResults:function(){return"không có kết quả trùng khớp"}}})}function runSelect2Multi(e){e.select2({language:{noResults:function(){return"không có kết quả trùng khớp"}}})}function removeBlockParent(e){$(e).closest(".js-group-option").remove()}function showAllImagesCkfinderOnload(e){e.each(function(e){var t=$(this).val();t&&showImage__InputCKFinder(t,this)})}function listenChangeTypeOption(e){var t=$(e).closest(".js-group-option"),n=t.find('input[name="value_text[]"]'),a=t.find('textarea[name="value_html[]"]'),i=t.find(".cke");1==e.value?(n.removeClass("d-none"),a.addClass("d-none"),i.addClass("d-none")):(n.addClass("d-none"),a.removeClass("d-none"),i.length?i.removeClass("d-none"):CKEDITOR.replace(a.attr("id")))}function addMoreBlock(e){var t=document.getElementsByClassName("js-group-option"),n=null;if(t.length&&(n=t[0]),n){$(n).find("select").select2("destroy");var a=$(n).find(".js-clone-value-option"),i=a.find("input").clone(),o=a.find("textarea").clone(),l=$(n).find("select").clone();i.val(""),i.removeClass("d-none"),o.attr("id","ckeditor-"+t.length),o.attr("style",""),o.addClass("d-none"),l.attr("id","select2-"+t.length),l.val("1");var s=$(n).clone();runSelect2Single($(n).find("select")),s.find("input, textarea").val(""),s.find(".js-clone-value-option").html(""),s.find(".js-clone-value-option").append(i),s.find(".js-clone-value-option").append(o),s.find(".js-clone-select-option").html(""),s.find(".js-clone-select-option").append(l),runSelect2Single(s.find("select")),$(t).last().after(s)}}$(document).ready(function(){link_sidebar_dropdown(),$(".js__select_option_type_format").each(function(){if(2==$(this).val()){var e=$(this).closest(".js-group-option").find(".js-clone-value-option");e.find("input").addClass("d-none"),e.find("textarea").removeClass("d-none"),CKEDITOR.replace(e.find("textarea").attr("id"))}});var e=$(".js__single-select"),t=$(".js__multi-select");e.length&&runSelect2Single(e),t.length&&runSelect2Multi(t);var n=$(".img__outputCKFinder");n.length&&showAllImagesCkfinderOnload(n)}),$("textarea[id^='editor']").length&&$("textarea[id^='editor']").each(function(e){CKEDITOR.replace($(this).attr("id"))});