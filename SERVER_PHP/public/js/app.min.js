function loadJS(e,t){var n=document.getElementsByTagName("script")[0],i=document.createElement("script");return i.src=e,i.async=!0,n.parentNode.insertBefore(i,n),t&&"function"==typeof t&&(i.onload=t),i}function toggleAdvancedSearch(){var e=document.getElementById("js__toggle-advanced-search"),t=document.getElementById("js__advanced-search"),n=e.getElementsByClassName("icon");n.length&&(n[0].classList.toggle("fa-chevron-double-right"),n[0].classList.toggle("fa-chevron-double-down")),t.classList.toggle("d-none")}function filterLocation(e,t,n){for(var i=[],a=0;a<e.length;a++)if(e[a][t]==n){var o={id:e[a].id,text:e[a].text};i.push(o)}return i}function resetSelect2Location(e,t){e.find("option").remove(),e.select2("destroy"),runSelect2Single(e,{data:t}),e.trigger("change")}function runSelect2Single(e,t){var n={width:"100%",language:{noResults:function(){return"không có kết quả trùng khớp"}},escapeMarkup:function(e){return e},templateSelection:function(e){return e.text},templateResult:function(e){return e.text}};if(!(null==t||"object"!=typeof t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return e.select2(n)}function runSelect2Multi(e){e.select2({width:"100%",language:{noResults:function(){return"không có kết quả trùng khớp"}}}),e.on("select2:selecting",function(t){var n=e.next().find(".select2-selection--multiple").first();$(n).scrollTop($(n).prop("scrollHeight")),$(".select2-selection--multiple input").focus()})}function copyClipboard(e){e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}function backToTop(){window.pageYOffset>0&&(window.scrollBy(0,-80),setTimeout(this.backToTop,10))}function drawGoogleMapLazyload(){var e=document.getElementById("map-canvas");GOOGLE_PLACES_API&&e&&new IntersectionObserver(function(t,n){("boolean"==typeof t[0].isIntersecting?t[0].isIntersecting:t[0].intersectionRatio>=1)&&(loadJS("https://maps.googleapis.com/maps/api/js?key="+GOOGLE_PLACES_API,drawGoogleMap),n.unobserve(e))},{rootMargin:"400px",threshold:0}).observe(e)}function drawGoogleMap(){var e=new google.maps.StyledMapType([{stylers:[{saturation:0}]},{featureType:"road",elementType:"geometry",stylers:[{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],{name:"Google Map"});"undefined"!=typeof MAP_LAT&&"undefined"!=typeof MAP_LONG||(MAP_LAT=10.651623,MAP_LONG=107.270763);var t=new google.maps.LatLng(MAP_LAT,MAP_LONG),n={zoom:15,scrollwheel:!1,center:t,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},i=new google.maps.Marker({position:t,map:a,icon:"/images/map-icon.png"}),a=new google.maps.Map(document.getElementById("map-canvas"),n);a.mapTypes.set("map_style",e),a.setMapTypeId("map_style"),i.setMap(a);var o='<div class="address_detail_map"><h4 class="main_color">'+CONFIG_COMPANY_NAME+"</h4>"+CONFIG_COMPANY_ADDRESS+"</div>";o=o.split("\n").join("<br />");var s=new google.maps.InfoWindow({content:o});i.addListener("click",function(){s.open(a,i)}),s.open(a,i)}function drawMapContact(){if(!document.getElementById("map-contact-canvas"))return!1;var e=new google.maps.StyledMapType([{stylers:[{saturation:0}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:0},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]}],{name:"Google Map"}),t=new google.maps.LatLng(35.707616,139.669912),n={zoom:17,scrollwheel:!1,center:t,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]}},i=new google.maps.Marker({position:t,map:a,icon:"/images/map-icon.png"}),a=new google.maps.Map(document.getElementById("map-contact-canvas"),n);a.mapTypes.set("map_style",e),a.setMapTypeId("map_style"),i.setMap(a);var o='<div class="address_detail_map"><h4 class="main_color">'+CONFIG_COMPANY_NAME+"</h4>"+CONFIG_COMPANY_ADDRESS+"</div>";o=o.split("\n").join("<br />");var s=new google.maps.InfoWindow({content:o});i.addListener("click",function(){s.open(a,i)}),s.open(a,i)}function toggleCatalogue(e){1==$(e).attr("data-toggle")?($(e).text("show"),$(e).attr("data-toggle",0),$(e).closest(".catalogue").find(".catalogue__body").addClass("d-none")):($(e).text("hide"),$(e).attr("data-toggle",1),$(e).closest(".catalogue").find(".catalogue__body").removeClass("d-none"))}function showLightGaleries(e){$(e).closest(".item").find(".lightgallery img").click()}function showModalNoClose(e){var t=$(e).attr("data-modal");$(t).modal({escapeClose:!1,clickClose:!1,showClose:!1})}$(document).ready(function(){Tipped.create(".simple-tooltip",{skin:"light",size:"large"}),jQuery(window).on("resize",function(e){}),$("#js_btn_toggle_search").click(function(){$("#js_search_header__form").toggleClass("show")}),$("#js_btn_header_toggle__menu").click(function(){$("#menu").toggleClass("show"),$("body").toggleClass("neo-scroll")});var e=$("#menu");e.find(".navigate__link__icon_plus").click(function(){e.hasClass("show")&&($(".navigate__link").removeClass("active"),$(this).closest(".navigate__link").find(".dropdown-menu").slideToggle("fast",function(){$(this).hasClass("active")?$(this).closest(".navigate__link").removeClass("active"):$(this).closest(".navigate__link").addClass("active")}))}),e.find("#js_menu__mobile_close").click(function(){$("#menu").toggleClass("show"),$("body").toggleClass("neo-scroll")}),$("#js_menu__mobile_close_pc").click(function(){$("#menu").toggleClass("show"),$("body").toggleClass("neo-scroll")}),window.addEventListener("error",e=>{alert(`có lỗi cần send mail ${e.type}: ${e.message}\n`)});var t=$("#js__select-commune"),n=[];t.length&&void 0!==n&&runSelect2Single(t,{data:[]});var i=$("#js__select-district"),a=[];i.length&&void 0!==a&&runSelect2Single(i,{data:[]}).on("change",function(e){var t=this.value,i=$("#js__select-commune"),a=i.find("option:first").text();if(0==t){resetSelect2Location(i,[{id:0,text:a}])}else{if(resetSelect2Location(i,[{id:0,text:a+'<b class="spinner"><i></i><i></i><i></i><i></i></b>'}]),void 0===o)var o="/api/v1/communes";if(n.length){var s=[{id:0,text:a}].concat(filterLocation(n,"district",t));resetSelect2Location(i,s)}else fetch(o).then(e=>e.json()).then(function(e){n=e.data;var o=[{id:0,text:a}].concat(filterLocation(n,"district",t));return resetSelect2Location(i,o),!0}).catch(function(e){console.log(e)})}});var o=$("#js__select-province");o.length&&"undefined"!=typeof PROVINCES&&runSelect2Single(o,{data:PROVINCES}).on("change",function(e){var t=this.value,n=$("#js__select-district"),i=n.find("option:first").text();if(0==t){resetSelect2Location(n,[{id:0,text:i}])}else{if(resetSelect2Location(n,[{id:0,text:i+'<b class="spinner"><i></i><i></i><i></i><i></i></b>'}]),void 0===o)var o="/api/v1/districts";if(a.length){var s=[{id:0,text:i}].concat(filterLocation(a,"province",t));resetSelect2Location(n,s)}else fetch(o).then(e=>e.json()).then(function(e){a=e.data;var o=[{id:0,text:i}].concat(filterLocation(a,"province",t));return resetSelect2Location(n,o),!0}).catch(function(e){console.log(e)})}});var s=$("#js__select-price");s.length&&(runSelect2Single(s,{minimumResultsForSearch:-1,theme:"default js__class__select-price",templateResult:function(e){if(!e.id)return e.text;if(1==parseInt(e.id)){$spiceRange=$('<div class="wrapper-range-select2">\n                            \x3c!-- <div class="text-click-me">bấm để chọn</div> --\x3e\n                            <div id="slider__spice"></div>\n                            <div class="value-price" id="spice__value"></div>\n                        </div>');var t=[.1,10];$("#js__price-range-input").val()&&(t=$("#js__price-range-input").val().split("-"));var n=$spiceRange.find("#slider__spice");if(n.length){var i=n.get(0);noUiSlider.create(i,{start:t,connect:[!1,!0,!1],step:.1,range:{min:[.1],max:[10]}}),i.noUiSlider.on("update",function(e){s.find("option[value=1]").attr("price__range","1");var t=s.find("option[price__range=1]"),n=parseInt(10*e[0])/10,i=parseInt(10*e[1])/10;n<1?n=1e3*n+" triệu -":n+=" tỷ -",i<1?i=1e3*i+" triệu":i+=" tỷ";var a=n+i,o=e.join("-");$("#spice__value").text(a),$(".js__class__select-price").find(".select2-selection__rendered").text(a),t.text(a).val(o),$("#js__price-range-input").val(o)})}return $spiceRange}return e.text}}),s.on("select2:selecting",function(e){var t=parseInt(e.params.args.data.id);1==t?e.preventDefault():$("#js__price-range-input").val("");var n=s.find("option[value="+t+"]");$(".js__class__select-price").find(".select2-selection__rendered").text(n.val())}));var l=$("#js__select-area");l.length&&runSelect2Single(l,{minimumResultsForSearch:-1});var c=$("#js__select-direction");c.length&&runSelect2Single(c,{minimumResultsForSearch:-1});var r=$("#js__select-facade");r.length&&runSelect2Single(r,{minimumResultsForSearch:-1});var d=$(".js__single-select");d.length&&runSelect2Single(d);var p=$(".js__multi-select");p.length&&runSelect2Multi(p)});