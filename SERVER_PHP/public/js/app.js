(()=>{var o=$("#header__sticky"),t=0;function e(o,e){void 0!==e&&jQuery.isNumeric(e)||(e=0),void 0===t&&(t=0),$(window).scrollTop()>=e?(0===$("#just-for-height").length&&o.after('<div id="just-for-height" style="height:'+o.outerHeight()+'px"></div>'),o.addClass("sticky")):(o.removeClass("show"),o.removeClass("sticky"),$("#just-for-height").remove()),o.hasClass("sticky")&&($(window).scrollTop()>0&&0==t||$(window).scrollTop()<t?o.addClass("show"):o.removeClass("show")),t=$(window).scrollTop()}function n(o){var t=$("#modal__error");t.find(".js__title").html("Đã có lỗi sảy ra!"),t.find(".js__header--content").html("Không thể thích sản phẩm này"),t.find(".js__body--content").html('Bấm thích không thành công vì lý do: <span class="text-color-red">'.concat(o.message,"</span>")),t.modal({escapeClose:!0,clickClose:!0,showClose:!0})}$(document).ready((function(){if(Tipped.create(".simple-tooltip",{skin:"light",size:"large"}),o.length&&!window.IS_ROBOT){var t=o.offset().top+1;e(o,t),$(window).on("scroll",(function(){e(o,t)}))}o.find("#js_menu__mobile_close").click((function(){$("#menu").toggleClass("show"),$("body").toggleClass("neo-scroll")})),$("#js_btn_header_toggle__menu").click((function(){$("#menu").toggleClass("show"),$("body").toggleClass("neo-scroll")}))})),window.changeDistrict=function(o){var t=o.value,e=$("#js__select-commune");(e.find("option").not(":first").remove(),0==t)?e.val(t):fetch("/api/v1/commune/"+t).then((function(o){return o.json()})).then((function(o){for(var n=function(o,t,e){for(var n=[],s=0;s<o.length;s++)if(o[s][t]==e){var l={id:o[s].id,text:o[s].text};n.push(l)}return n}(o.data,"district",t),s="",l=0;l<n.length;l++)s+='<option value="'.concat(n[l].id,'">').concat(n[l].text,"</option>");return console.log(s),e.html(e.html()+s),!0})).catch((function(o){console.log(o)}))},window.toggleLikePost=function(o,t,e){if(!t)return $("#modal__notification").modal({escapeClose:!0,clickClose:!1,showClose:!0}),!1;var s=$(o);s.toggleClass("active"),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$.ajax({type:"PATCH",url:window.AJAX_TOGGLE_LIKE_PRODUCT,data:{product_id:e},dataType:"JSON",success:function(o){if(console.log(o),200==o.status){s.val("data-counter");s.find(".js__counter").text(o.data.counter?"(".concat(o.data.counter,")"):"")}else console.log(o),s.toggleClass("active"),n(o)},error:function(o,t,e){var l=JSON.parse(o.responseText);console.log(l),s.toggleClass("active"),n(l)}})}})();